name: zzzzzzz

on:
  push:

defaults:
  run:
    shell: bash

env:
  LINK: https://mega.nz/file/I81DRJwC#hiTFHmr78kmemnw9QMKpHCUSKYq1DAou7cqv10m2P44
  LOGO: https://telegra.ph/file/d1ca85aac5234d7ed90f2.jpg
  GAME_NAME: ğ—§ğ—µğ—² ğ—šğ—²ğ—»ğ—²ğ˜€ğ—¶ğ˜€ ğ—¢ğ—¿ğ—±ğ—²ğ—¿ [ğ˜ƒ.ğŸ³ğŸ³ğŸ¬ğŸ²ğŸ­] [ğ—¡ğ—Ÿğ—§ ğ— ğ—²ğ—±ğ—¶ğ—®]
  UPLOAD: asoy-gaming
  TZ: Asia/Jakarta

jobs:
  deploy-android:
    name: Asoy-Gaming
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      
      - name: Setup SSH ğŸ’»
        uses: fastai/workflows/ssh@master
        with:
          ssh_key: ${{ secrets.KNOWN_HOSTS }}
          key_file: known_hosts
        env:
          KNOWN_HOSTS: ${{ secrets.KNOWN_HOSTS }}

      - name: Install MegaCmd â³
        run: |
          curl https://mega.nz/linux/MEGAsync/xUbuntu_20.04/amd64/megacmd_1.5.1-1.1_amd64.deb --output megacmd.deb
          chmod +x megacmd.deb
          sudo apt install ./megacmd.deb -y

      - name: Download ğŸ“¥
        run: |
          mega-get ${LINK} $PWD

      - name: Upload ğŸ“¤
        run: |
          cd $PWD
          sshpass -p ${SF_PASSWORD} scp *.apk ${SF_USERNAME}@frs.sourceforge.net:/home/frs/project/${UPLOAD}
        env:
          SF_USERNAME: ${{ secrets.SF_USER }}
          SF_PASSWORD: ${{ secrets.SF_PASWORD }}

      - name: Release ğŸ“
        run: |
          LINK_MIRROR="https://semawur.com/st/?api=12009627cdbda7809f8aa8a75007ec876ac0503c&url=https://sourceforge.net/projects/${UPLOAD}/files/$(cd $PWD && ls *apk)/download"
          telegram_message() {
               curl -v "https://api.telegram.org/bot""$TG_TOKEN""/sendPhoto?chat_id=""$TG_ID""$ARGS_EXTRA" -H 'Content-Type: multipart/form-data' \
               --form photo="$LOGO" \
               -F "parse_mode=html" \
               -F caption="$1"
          }

          echo -e \
          "
          $GAME_NAME

          <b>â”â”â”€â”€â”€â”€Info</b>
          <b>â”ƒVersi:</b> 77061
          <b>â”ƒOS:</b> Android
          <b>â”ƒBahasa:</b> English
          <b>â”—â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</b>

          <b>â”â”â”€â”€â”€â”€Ringkasan</b>
          The Genesis Order adalah chapter terbaru dalam saga NLT yang dimulai dengan Lust Epidemic, dilanjutkan di Treasure of Nadia dan sekarang akan memulai chapter baru di tahun 2021 bersamaan dengan berakhirnya Treasure of Nadia. Gim ini akan menampilkan beberapa wajah yang sudah dikenal serta banyak wajah baru, termasuk 13 wanita baru! Di TGO Anda akan bermain sebagai detektif junior yang mencoba mencari nafkah dan membaca dengan teliti hasrat Anda untuk memecahkan kejahatan dan bertemu wanita cantik. Kisah rumit ini terungkap dengan banyak liku-liku seperti yang Anda harapkan dari game NLT!
          <b>â”—â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</b>

          <b>â”â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</b>
          <b>â”ƒğŸ“¥ Download Link:</b> <a href=\"$LINK_MIRROR\">Here</a>
          <b>â”ƒğŸ›¡ï¸ Ukuran: $(cd $PWD && ls -lh *apk | cut -d ' ' -f5)</b>
          <b>â”ƒğŸ“… Tanggal: $(date +%d\ %B\ %Y)</b>
          <b>â”ƒğŸ•” Waktu: $(date +%T)</b>
          <b>â”—â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</b>

          <b>â”â”â”€â”€â”€â”€Extras</b>
          <b>â”ƒâ¥ Unlimited Money Mod</b>
          <b>â”—â”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</b>
          " > tg.html

          TG_TEXT="$(< tg.html)"
          telegram_message "$TG_TEXT"
        env:
          TG_TOKEN: ${{ secrets.TG_TOKEN }}
          TG_ID: ${{ secrets.TG_ID }}
